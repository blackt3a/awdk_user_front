import{i as Pe,j as Ne,p as X,m as se,k as oe,g as Y,l as x,n as gt,u as me,c as t,_ as J,q as _t,o as p,a as O,w as o,d as C,t as f,e as c,s as yt,V as _e,v as ye,x as M,y as I,F as K,z as $e,b as pe,A as Oe,B as He,C as pt,D as Ue,E as Be,G as Fe,H as bt,I as te,J as je,K as Ke,L as qe,M as j,N as Se,O as kt,P as We,Q as fe,R as xt,S as Xe,T as Vt,U as Ct,W as Ye,X as St,Y as ee,Z as Re,$ as le,a0 as wt,a1 as Je,a2 as It,a3 as Qe,a4 as Tt,a5 as ve,a6 as Ae,a7 as Pt,a8 as $t,a9 as Bt,aa as Ft,ab as Rt,ac as At,ad as zt,ae as Gt,af as Dt,ag as Ze,ah as Lt,ai as Et,aj as be,ak as et,al as Mt,am as Nt,an as ge,ao as Ot,ap as ze,aq as Ht,r as de,ar as Ut,as as jt,at as Kt,au as qt,av as Wt,f as Xt,aw as Ve,ax as Yt,ay as tt,az as we,aA as ke,aB as lt,aC as Jt}from"./index-da3MlrFI.js";import{V as Qt,b as Zt,a as at,e as el,f as tl,u as ll,g as Ge,h as al,i as nl,j as sl,d as nt}from"./VTextField-i6ezcR3q.js";import{V as xe,a as ae,c as ne,b as Ie}from"./VCard-L8cwIPZf.js";import{V as ol}from"./VContainer-kO60m8EC.js";const st=Pe.reduce((e,a)=>(e[a]={type:[Boolean,String,Number],default:!1},e),{}),ot=Pe.reduce((e,a)=>{const n="offset"+Ne(a);return e[n]={type:[String,Number],default:null},e},{}),it=Pe.reduce((e,a)=>{const n="order"+Ne(a);return e[n]={type:[String,Number],default:null},e},{}),De={col:Object.keys(st),offset:Object.keys(ot),order:Object.keys(it)};function il(e,a,n){let d=e;if(!(n==null||n===!1)){if(a){const l=a.replace(e,"");d+=`-${l}`}return e==="col"&&(d="v-"+d),e==="col"&&(n===""||n===!0)||(d+=`-${n}`),d.toLowerCase()}}const ul=["auto","start","end","center","baseline","stretch"],rl=X({cols:{type:[Boolean,String,Number],default:!1},...st,offset:{type:[String,Number],default:null},...ot,order:{type:[String,Number],default:null},...it,alignSelf:{type:String,default:null,validator:e=>ul.includes(e)},...se(),...oe()},"VCol"),Te=Y()({name:"VCol",props:rl(),setup(e,a){let{slots:n}=a;const d=x(()=>{const l=[];let r;for(r in De)De[r].forEach(s=>{const u=e[s],m=il(r,s,u);m&&l.push(m)});const i=l.some(s=>s.startsWith("v-col-"));return l.push({"v-col":!i||!e.cols,[`v-col-${e.cols}`]:e.cols,[`offset-${e.offset}`]:e.offset,[`order-${e.order}`]:e.order,[`align-self-${e.alignSelf}`]:e.alignSelf}),l});return()=>{var l;return gt(e.tag,{class:[d.value,e.class],style:e.style},(l=n.default)==null?void 0:l.call(n))}}}),cl=X({start:Boolean,end:Boolean,...se(),...oe()},"VListItemAction"),dl=Y()({name:"VListItemAction",props:cl(),setup(e,a){let{slots:n}=a;return me(()=>t(e.tag,{class:["v-list-item-action",{"v-list-item-action--start":e.start,"v-list-item-action--end":e.end},e.class],style:e.style},n)),{}}}),fl={name:"SubmitFlag",data:()=>({info:null,inputFlag:"",message:"",snackBarVisible:!1,snackBarColor:"success"}),mounted(){this.getInfo()},methods:{getInfo(){this.utils.GET("/team/info").then(e=>{this.info=e})},submitFlag(){_t.post(this.utils.baseURL+"/flag",{flag:this.inputFlag},{headers:{Authorization:this.info.Token}}).then(e=>{this.inputFlag="",this.message=e.data.data,this.snackBarColor="success",this.snackBarVisible=!0}).catch(e=>{this.message=e.response.data.msg,this.snackBarColor="error",this.snackBarVisible=!0})},getCurlCommand(){return navigator.platform==="Win32"||navigator.platform==="Windows"?`curl -X POST ${window.location.origin}/api/flag -H "Authorization: ${this.info.Token}" -d "{ \\"flag\\": \\"your_flag_here\\" }"`:`curl -X POST ${window.location.origin}/api/flag -H 'Authorization: ${this.info.Token}' -d '{ "flag": "your_flag_here" }'`}}},vl={style:{"margin-right":"20px"}},ml=c("h2",null,[C("POST "),c("code",{style:{"background-color":"#1c1c1c"}},"/flag")],-1),hl=c("br",null,null,-1),gl=c("span",null,[c("b",null,"Header")],-1),_l=c("br",null,null,-1),yl=c("span",null,"Content-Type: application/json",-1),pl=c("br",null,null,-1),bl=c("br",null,null,-1),kl=c("p",null,[c("b",null,"Body")],-1),xl=c("code",{class:"pa-3",style:{width:"100%","background-color":"#1c1c1c",color:"rgba(255, 255, 255, 0.7)"}},'{"flag": "your_flag_here"}',-1),Vl=c("br",null,null,-1),Cl=c("br",null,null,-1),Sl=c("br",null,null,-1),wl={class:"pa-3",style:{width:"100%","background-color":"#1c1c1c",color:"rgba(255, 255, 255, 0.7)"}};function Il(e,a,n,d,l,r){return e.info!==null?(p(),O(ne,{key:0,class:"mx-auto"},{default:o(()=>[t(Qt,{modelValue:e.snackBarVisible,"onUpdate:modelValue":a[0]||(a[0]=i=>e.snackBarVisible=i),color:e.snackBarColor,timeout:3e3,top:!0},{default:o(()=>[C(f(e.message),1)]),_:1},8,["modelValue","color"]),t(xe,null,{default:o(()=>[c("span",vl,f(e.$t("flag.submit_flag")),1),t(Zt,{onKeyup:yt(r.submitFlag,["enter","native"]),modelValue:e.inputFlag,"onUpdate:modelValue":a[1]||(a[1]=i=>e.inputFlag=i),label:e.$t("flag.input_your_flag"),clearable:""},null,8,["onKeyup","modelValue","label"]),t(_e,{style:{"margin-left":"20px"},onClick:r.submitFlag},{default:o(()=>[C(f(e.$t("flag.submit")),1)]),_:1},8,["onClick"])]),_:1}),t(ae,null,{default:o(()=>[ml,hl,gl,_l,yl,pl,c("span",null,"Authorization: "+f(e.info.Token),1),bl,kl,xl,Vl,Cl,t(ye),Sl,c("p",null,[c("code",wl,f(r.getCurlCommand()),1)])]),_:1})]),_:1})):M("",!0)}const ut=J(fl,[["render",Il]]),Tl={name:"LiveLog",data:()=>({logs:[],stream:null}),mounted(){this.getStream()},beforeDestroy(){console.log(1111),this.stream.close()},methods:{getStream(){this.stream=new EventSource(this.utils.baseURL+"/livelog"),this.stream.onmessage=e=>{let a=JSON.parse(e.data);switch(a.Type){case"submit_flag":this.push({time:a.Time,message:this.$t("log.submit_flag",{from:a.Message.From,to:a.Message.To,challenge:a.Message.Challenge})});break;case"check_down":this.push({time:a.Time,message:this.$t("log.check_down",{team:a.Message.Team,challenge:a.Message.Challenge})});break}},this.stream.onerror=function(e){console.log(e)}},push(e){this.logs.length>30&&(this.logs=this.logs.slice(0,30)),this.logs.unshift(e)}}},Pl={width:"220px",style:{"text-align":"right"}},$l={key:1,style:{height:"200px"}};function Bl(e,a,n,d,l,r){const i=pe("v-simple-table");return p(),I("div",null,[e.logs.length!==0?(p(),O(i,{key:0,height:200},{default:o(()=>[c("tbody",null,[(p(!0),I(K,null,$e(e.logs,(s,u)=>(p(),I("tr",{key:u},[c("td",null,f(s.message),1),c("td",Pl,f(new Date(s.time*1e3).toLocaleString()),1)]))),128))])]),_:1})):(p(),I("div",$l,f(e.$t("log.no_data")),1))])}const rt=J(Tl,[["render",Bl]]),Fl=X({app:Boolean,color:String,height:{type:[Number,String],default:"auto"},...Oe(),...se(),...He(),...pt(),...Ue(),...oe({tag:"footer"}),...Be()},"VFooter"),Rl=Y()({name:"VFooter",props:Fl(),setup(e,a){let{slots:n}=a;const{themeClasses:d}=Fe(e),{backgroundColorClasses:l,backgroundColorStyles:r}=bt(te(e,"color")),{borderClasses:i}=je(e),{elevationClasses:s}=Ke(e),{roundedClasses:u}=qe(e),m=j(32),{resizeRef:y}=Se($=>{$.length&&(m.value=$[0].target.clientHeight)}),b=x(()=>e.height==="auto"?m.value:parseInt(e.height,10)),{layoutItemStyles:P}=kt({id:e.name,order:x(()=>parseInt(e.order,10)),position:x(()=>"bottom"),layoutSize:b,elementSize:x(()=>e.height==="auto"?void 0:b.value),active:x(()=>e.app),absolute:te(e,"absolute")});return me(()=>t(e.tag,{ref:y,class:["v-footer",d.value,l.value,i.value,s.value,u.value,e.class],style:[r.value,e.app?P.value:{height:We(e.height)},e.style]},n)),{}}}),Al={name:"Copyrights"},zl=c("strong",null,[C("Powered by "),c("a",{class:"white--text",href:"https://cardinal.ink/",target:"_blank"},"Cardinal")],-1);function Gl(e,a,n,d,l,r){return p(),O(Rl,{padless:""},{default:o(()=>[t(at,{justify:"center","no-gutters":""},{default:o(()=>[t(Te,{style:{"font-size":"14px"},class:"py-4 text-center white--text",cols:"12"},{default:o(()=>[C(f(new Date().getFullYear())+" — ",1),zl]),_:1})]),_:1})]),_:1})}const ct=J(Al,[["render",Gl]]);function Le(e){const n=Math.abs(e);return Math.sign(e)*(n/((1/.501-2)*(1-n)+1))}function Ee(e){let{selectedElement:a,containerSize:n,contentSize:d,isRtl:l,currentScrollOffset:r,isHorizontal:i}=e;const s=i?a.clientWidth:a.clientHeight,u=i?a.offsetLeft:a.offsetTop,m=l&&i?d-u-s:u,y=n+r,b=s+m,P=s*.4;return m<=r?r=Math.max(m-P,0):y<=b&&(r=Math.min(r-(y-b-P),d-n)),r}function Dl(e){let{selectedElement:a,containerSize:n,contentSize:d,isRtl:l,isHorizontal:r}=e;const i=r?a.clientWidth:a.clientHeight,s=r?a.offsetLeft:a.offsetTop,u=l&&r?d-s-i/2-n/2:s+i/2-n/2;return Math.min(d-n,Math.max(0,u))}const Ll=Symbol.for("vuetify:v-slide-group"),dt=X({centerActive:Boolean,direction:{type:String,default:"horizontal"},symbol:{type:null,default:Ll},nextIcon:{type:fe,default:"$next"},prevIcon:{type:fe,default:"$prev"},showArrows:{type:[Boolean,String],validator:e=>typeof e=="boolean"||["always","desktop","mobile"].includes(e)},...se(),...xt(),...oe(),...Xe({selectedClass:"v-slide-group-item--active"})},"VSlideGroup"),Me=Y()({name:"VSlideGroup",props:dt(),emits:{"update:modelValue":e=>!0},setup(e,a){let{slots:n}=a;const{isRtl:d}=Vt(),{displayClasses:l,mobile:r}=Ct(e),i=Ye(e,e.symbol),s=j(!1),u=j(0),m=j(0),y=j(0),b=x(()=>e.direction==="horizontal"),{resizeRef:P,contentRect:$}=Se(),{resizeRef:S,contentRect:G}=Se(),h=x(()=>i.selected.value.length?i.items.value.findIndex(v=>v.id===i.selected.value[0]):-1),B=x(()=>i.selected.value.length?i.items.value.findIndex(v=>v.id===i.selected.value[i.selected.value.length-1]):-1);if(St){let v=-1;ee(()=>[i.selected.value,$.value,G.value,b.value],()=>{cancelAnimationFrame(v),v=requestAnimationFrame(()=>{if($.value&&G.value){const g=b.value?"width":"height";m.value=$.value[g],y.value=G.value[g],s.value=m.value+1<y.value}if(h.value>=0&&S.value){const g=S.value.children[B.value];h.value===0||!s.value?u.value=0:e.centerActive?u.value=Dl({selectedElement:g,containerSize:m.value,contentSize:y.value,isRtl:d.value,isHorizontal:b.value}):s.value&&(u.value=Ee({selectedElement:g,containerSize:m.value,contentSize:y.value,isRtl:d.value,currentScrollOffset:u.value,isHorizontal:b.value}))}})})}const H=j(!1);let D=0,Q=0;function Z(v){const g=b.value?"clientX":"clientY";Q=(d.value&&b.value?-1:1)*u.value,D=v.touches[0][g],H.value=!0}function N(v){if(!s.value)return;const g=b.value?"clientX":"clientY",R=d.value&&b.value?-1:1;u.value=R*(Q+D-v.touches[0][g])}function V(v){const g=y.value-m.value;u.value<0||!s.value?u.value=0:u.value>=g&&(u.value=g),H.value=!1}function L(){P.value&&(P.value[b.value?"scrollLeft":"scrollTop"]=0)}const F=j(!1);function A(v){if(F.value=!0,!(!s.value||!S.value)){for(const g of v.composedPath())for(const R of S.value.children)if(R===g){u.value=Ee({selectedElement:R,containerSize:m.value,contentSize:y.value,isRtl:d.value,currentScrollOffset:u.value,isHorizontal:b.value});return}}}function _(v){F.value=!1}function T(v){var g;!F.value&&!(v.relatedTarget&&((g=S.value)!=null&&g.contains(v.relatedTarget)))&&k()}function w(v){S.value&&(b.value?v.key==="ArrowRight"?k(d.value?"prev":"next"):v.key==="ArrowLeft"&&k(d.value?"next":"prev"):v.key==="ArrowDown"?k("next"):v.key==="ArrowUp"&&k("prev"),v.key==="Home"?k("first"):v.key==="End"&&k("last"))}function k(v){var g,R,he,re,ce;if(S.value)if(!v)(g=wt(S.value)[0])==null||g.focus();else if(v==="next"){const U=(R=S.value.querySelector(":focus"))==null?void 0:R.nextElementSibling;U?U.focus():k("first")}else if(v==="prev"){const U=(he=S.value.querySelector(":focus"))==null?void 0:he.previousElementSibling;U?U.focus():k("last")}else v==="first"?(re=S.value.firstElementChild)==null||re.focus():v==="last"&&((ce=S.value.lastElementChild)==null||ce.focus())}function E(v){const g=u.value+(v==="prev"?-1:1)*m.value;u.value=Je(g,0,y.value-m.value)}const ie=x(()=>{let v=u.value>y.value-m.value?-(y.value-m.value)+Le(y.value-m.value-u.value):-u.value;u.value<=0&&(v=Le(-u.value));const g=d.value&&b.value?-1:1;return{transform:`translate${b.value?"X":"Y"}(${g*v}px)`,transition:H.value?"none":"",willChange:H.value?"transform":""}}),q=x(()=>({next:i.next,prev:i.prev,select:i.select,isSelected:i.isSelected})),z=x(()=>{switch(e.showArrows){case"always":return!0;case"desktop":return!r.value;case!0:return s.value||Math.abs(u.value)>0;case"mobile":return r.value||s.value||Math.abs(u.value)>0;default:return!r.value&&(s.value||Math.abs(u.value)>0)}}),W=x(()=>Math.abs(u.value)>0),ue=x(()=>y.value>Math.abs(u.value)+m.value);return me(()=>t(e.tag,{class:["v-slide-group",{"v-slide-group--vertical":!b.value,"v-slide-group--has-affixes":z.value,"v-slide-group--is-overflowing":s.value},l.value,e.class],style:e.style,tabindex:F.value||i.selected.value.length?-1:0,onFocus:T},{default:()=>{var v,g,R;return[z.value&&t("div",{key:"prev",class:["v-slide-group__prev",{"v-slide-group__prev--disabled":!W.value}],onClick:()=>W.value&&E("prev")},[((v=n.prev)==null?void 0:v.call(n,q.value))??t(Re,null,{default:()=>[t(le,{icon:d.value?e.nextIcon:e.prevIcon},null)]})]),t("div",{key:"container",ref:P,class:"v-slide-group__container",onScroll:L},[t("div",{ref:S,class:"v-slide-group__content",style:ie.value,onTouchstartPassive:Z,onTouchmovePassive:N,onTouchendPassive:V,onFocusin:A,onFocusout:_,onKeydown:w},[(g=n.default)==null?void 0:g.call(n,q.value)])]),z.value&&t("div",{key:"next",class:["v-slide-group__next",{"v-slide-group__next--disabled":!ue.value}],onClick:()=>ue.value&&E("next")},[((R=n.next)==null?void 0:R.call(n,q.value))??t(Re,null,{default:()=>[t(le,{icon:d.value?e.prevIcon:e.nextIcon},null)]})])]}})),{selected:i.selected,scrollTo:E,scrollOffset:u,focus:k}}}),ft=Symbol.for("vuetify:v-chip-group"),El=X({column:Boolean,filter:Boolean,valueComparator:{type:Function,default:It},...dt(),...se(),...Xe({selectedClass:"v-chip--selected"}),...oe(),...Be(),...Qe({variant:"tonal"})},"VChipGroup");Y()({name:"VChipGroup",props:El(),emits:{"update:modelValue":e=>!0},setup(e,a){let{slots:n}=a;const{themeClasses:d}=Fe(e),{isSelected:l,select:r,next:i,prev:s,selected:u}=Ye(e,ft);return Tt({VChip:{color:te(e,"color"),disabled:te(e,"disabled"),filter:te(e,"filter"),variant:te(e,"variant")}}),me(()=>{const m=Me.filterProps(e);return t(Me,ve(m,{class:["v-chip-group",{"v-chip-group--column":e.column},d.value,e.class],style:e.style}),{default:()=>{var y;return[(y=n.default)==null?void 0:y.call(n,{isSelected:l,select:r,next:i,prev:s,selected:u.value})]}})}),{}}});const Ml=X({activeClass:String,appendAvatar:String,appendIcon:fe,closable:Boolean,closeIcon:{type:fe,default:"$delete"},closeLabel:{type:String,default:"$vuetify.close"},draggable:Boolean,filter:Boolean,filterIcon:{type:String,default:"$complete"},label:Boolean,link:{type:Boolean,default:void 0},pill:Boolean,prependAvatar:String,prependIcon:fe,ripple:{type:[Boolean,Object],default:!0},text:String,modelValue:{type:Boolean,default:!0},onClick:Ae(),onClickOnce:Ae(),...Oe(),...se(),...Pt(),...He(),...$t(),...Ue(),...Bt(),...Ft(),...oe({tag:"span"}),...Be(),...Qe({variant:"tonal"})},"VChip"),Ce=Y()({name:"VChip",directives:{Ripple:Rt},props:Ml(),emits:{"click:close":e=>!0,"update:modelValue":e=>!0,"group:selected":e=>!0,click:e=>!0},setup(e,a){let{attrs:n,emit:d,slots:l}=a;const{t:r}=At(),{borderClasses:i}=je(e),{colorClasses:s,colorStyles:u,variantClasses:m}=zt(e),{densityClasses:y}=Gt(e),{elevationClasses:b}=Ke(e),{roundedClasses:P}=qe(e),{sizeClasses:$}=Dt(e),{themeClasses:S}=Fe(e),G=Ze(e,"modelValue"),h=Lt(e,ft,!1),B=Et(e,n),H=x(()=>e.link!==!1&&B.isLink.value),D=x(()=>!e.disabled&&e.link!==!1&&(!!h||e.link||B.isClickable.value)),Q=x(()=>({"aria-label":r(e.closeLabel),onClick(V){V.stopPropagation(),G.value=!1,d("click:close",V)}}));function Z(V){var L;d("click",V),D.value&&((L=B.navigate)==null||L.call(B,V),h==null||h.toggle())}function N(V){(V.key==="Enter"||V.key===" ")&&(V.preventDefault(),Z(V))}return()=>{const V=B.isLink.value?"a":e.tag,L=!!(e.appendIcon||e.appendAvatar),F=!!(L||l.append),A=!!(l.close||e.closable),_=!!(l.filter||e.filter)&&h,T=!!(e.prependIcon||e.prependAvatar),w=!!(T||l.prepend),k=!h||h.isSelected.value;return G.value&&be(t(V,{class:["v-chip",{"v-chip--disabled":e.disabled,"v-chip--label":e.label,"v-chip--link":D.value,"v-chip--filter":_,"v-chip--pill":e.pill},S.value,i.value,k?s.value:void 0,y.value,b.value,P.value,$.value,m.value,h==null?void 0:h.selectedClass.value,e.class],style:[k?u.value:void 0,e.style],disabled:e.disabled||void 0,draggable:e.draggable,href:B.href.value,tabindex:D.value?0:void 0,onClick:Z,onKeydown:D.value&&!H.value&&N},{default:()=>{var E;return[Mt(D.value,"v-chip"),_&&t(Nt,{key:"filter"},{default:()=>[be(t("div",{class:"v-chip__filter"},[l.filter?t(ge,{key:"filter-defaults",disabled:!e.filterIcon,defaults:{VIcon:{icon:e.filterIcon}}},l.filter):t(le,{key:"filter-icon",icon:e.filterIcon},null)]),[[Ot,h.isSelected.value]])]}),w&&t("div",{key:"prepend",class:"v-chip__prepend"},[l.prepend?t(ge,{key:"prepend-defaults",disabled:!T,defaults:{VAvatar:{image:e.prependAvatar,start:!0},VIcon:{icon:e.prependIcon,start:!0}}},l.prepend):t(K,null,[e.prependIcon&&t(le,{key:"prepend-icon",icon:e.prependIcon,start:!0},null),e.prependAvatar&&t(ze,{key:"prepend-avatar",image:e.prependAvatar,start:!0},null)])]),t("div",{class:"v-chip__content"},[((E=l.default)==null?void 0:E.call(l,{isSelected:h==null?void 0:h.isSelected.value,selectedClass:h==null?void 0:h.selectedClass.value,select:h==null?void 0:h.select,toggle:h==null?void 0:h.toggle,value:h==null?void 0:h.value.value,disabled:e.disabled}))??e.text]),F&&t("div",{key:"append",class:"v-chip__append"},[l.append?t(ge,{key:"append-defaults",disabled:!L,defaults:{VAvatar:{end:!0,image:e.appendAvatar},VIcon:{end:!0,icon:e.appendIcon}}},l.append):t(K,null,[e.appendIcon&&t(le,{key:"append-icon",end:!0,icon:e.appendIcon},null),e.appendAvatar&&t(ze,{key:"append-avatar",end:!0,image:e.appendAvatar},null)])]),A&&t("button",ve({key:"close",class:"v-chip__close",type:"button"},Q.value),[l.close?t(ge,{key:"close-defaults",defaults:{VIcon:{icon:e.closeIcon,size:"x-small"}}},l.close):t(le,{key:"close-icon",icon:e.closeIcon,size:"x-small"},null)])]}}),[[et("ripple"),D.value&&e.ripple,null]])}}}),Nl=X({autoGrow:Boolean,autofocus:Boolean,counter:[Boolean,Number,String],counterValue:Function,prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,noResize:Boolean,rows:{type:[Number,String],default:5,validator:e=>!isNaN(parseFloat(e))},maxRows:{type:[Number,String],validator:e=>!isNaN(parseFloat(e))},suffix:String,modelModifiers:Object,...el(),...tl()},"VTextarea"),Ol=Y()({name:"VTextarea",directives:{Intersect:Ht},inheritAttrs:!1,props:Nl(),emits:{"click:control":e=>!0,"mousedown:control":e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,a){let{attrs:n,emit:d,slots:l}=a;const r=Ze(e,"modelValue"),{isFocused:i,focus:s,blur:u}=ll(e),m=x(()=>typeof e.counterValue=="function"?e.counterValue(r.value):(r.value||"").toString().length),y=x(()=>{if(n.maxlength)return n.maxlength;if(!(!e.counter||typeof e.counter!="number"&&typeof e.counter!="string"))return e.counter});function b(_,T){var w,k;!e.autofocus||!_||(k=(w=T[0].target)==null?void 0:w.focus)==null||k.call(w)}const P=de(),$=de(),S=j(""),G=de(),h=x(()=>e.persistentPlaceholder||i.value||e.active);function B(){var _;G.value!==document.activeElement&&((_=G.value)==null||_.focus()),i.value||s()}function H(_){B(),d("click:control",_)}function D(_){d("mousedown:control",_)}function Q(_){_.stopPropagation(),B(),Ve(()=>{r.value="",Yt(e["onClick:clear"],_)})}function Z(_){var w;const T=_.target;if(r.value=T.value,(w=e.modelModifiers)!=null&&w.trim){const k=[T.selectionStart,T.selectionEnd];Ve(()=>{T.selectionStart=k[0],T.selectionEnd=k[1]})}}const N=de(),V=de(+e.rows),L=x(()=>["plain","underlined"].includes(e.variant));Ut(()=>{e.autoGrow||(V.value=+e.rows)});function F(){e.autoGrow&&Ve(()=>{if(!N.value||!$.value)return;const _=getComputedStyle(N.value),T=getComputedStyle($.value.$el),w=parseFloat(_.getPropertyValue("--v-field-padding-top"))+parseFloat(_.getPropertyValue("--v-input-padding-top"))+parseFloat(_.getPropertyValue("--v-field-padding-bottom")),k=N.value.scrollHeight,E=parseFloat(_.lineHeight),ie=Math.max(parseFloat(e.rows)*E+w,parseFloat(T.getPropertyValue("--v-input-control-height"))),q=parseFloat(e.maxRows)*E+w||1/0,z=Je(k??0,ie,q);V.value=Math.floor((z-w)/E),S.value=We(z)})}jt(F),ee(r,F),ee(()=>e.rows,F),ee(()=>e.maxRows,F),ee(()=>e.density,F);let A;return ee(N,_=>{_?(A=new ResizeObserver(F),A.observe(N.value)):A==null||A.disconnect()}),Kt(()=>{A==null||A.disconnect()}),me(()=>{const _=!!(l.counter||e.counter||e.counterValue),T=!!(_||l.details),[w,k]=qt(n),{modelValue:E,...ie}=Ge.filterProps(e),q=al(e);return t(Ge,ve({ref:P,modelValue:r.value,"onUpdate:modelValue":z=>r.value=z,class:["v-textarea v-text-field",{"v-textarea--prefixed":e.prefix,"v-textarea--suffixed":e.suffix,"v-text-field--prefixed":e.prefix,"v-text-field--suffixed":e.suffix,"v-textarea--auto-grow":e.autoGrow,"v-textarea--no-resize":e.noResize||e.autoGrow,"v-input--plain-underlined":L.value},e.class],style:e.style},w,ie,{centerAffix:V.value===1&&!L.value,focused:i.value}),{...l,default:z=>{let{id:W,isDisabled:ue,isDirty:v,isReadonly:g,isValid:R}=z;return t(nl,ve({ref:$,style:{"--v-textarea-control-height":S.value},onClick:H,onMousedown:D,"onClick:clear":Q,"onClick:prependInner":e["onClick:prependInner"],"onClick:appendInner":e["onClick:appendInner"]},q,{id:W.value,active:h.value||v.value,centerAffix:V.value===1&&!L.value,dirty:v.value||e.dirty,disabled:ue.value,focused:i.value,error:R.value===!1}),{...l,default:he=>{let{props:{class:re,...ce}}=he;return t(K,null,[e.prefix&&t("span",{class:"v-text-field__prefix"},[e.prefix]),be(t("textarea",ve({ref:G,class:re,value:r.value,onInput:Z,autofocus:e.autofocus,readonly:g.value,disabled:ue.value,placeholder:e.placeholder,rows:e.rows,name:e.name,onFocus:B,onBlur:u},ce,k),null),[[et("intersect"),{handler:b},null,{once:!0}]]),e.autoGrow&&be(t("textarea",{class:[re,"v-textarea__sizer"],id:`${ce.id}-sizer`,"onUpdate:modelValue":U=>r.value=U,ref:N,readonly:!0,"aria-hidden":"true"},null),[[Wt,r.value]]),e.suffix&&t("span",{class:"v-text-field__suffix"},[e.suffix])])}})},details:T?z=>{var W;return t(K,null,[(W=l.details)==null?void 0:W.call(l,z),_&&t(K,null,[t("span",null,null),t(sl,{active:e.persistentCounter||i.value,value:m.value,max:y.value},l.counter)])])}:void 0})}),Xt({},P,$,G)}}),Hl={name:"GameBox",data(){return{showDetail:!1,gameBoxes:null,gameBoxDetail:{Title:"",TargetIP:"",TargetPort:"",Describe:""},timer:null}},mounted(){this.getGameboxes(),this.timer=setInterval(this.getGameboxes,5e3)},beforeDestroy(){clearInterval(this.timer)},methods:{getGameboxes(){this.utils.GET("/team/gameboxes").then(e=>{this.gameBoxes=e})}}},Ul={key:0},jl={key:0},Kl={key:1},ql={key:2};function Wl(e,a,n,d,l,r){const i=pe("v-list-item-content");return p(),I("div",null,[l.gameBoxes!==null?(p(),I("div",Ul,[(p(!0),I(K,null,$e(l.gameBoxes,s=>(p(),O(ke,{key:s.ID,onClick:()=>{l.gameBoxDetail=s,l.showDetail=!0}},{default:o(()=>[t(i,null,{default:o(()=>[t(tt,{textContent:f(s.Title)},null,8,["textContent"]),t(we,null,{default:o(()=>[C(f(s.IP)+":"+f(s.Port),1)]),_:2},1024),t(we,null,{default:o(()=>[C(f(e.utils.FormatFloat(s.Score))+" "+f(e.$t("general.score")),1)]),_:2},1024)]),_:2},1024),t(dl,null,{default:o(()=>[!s.IsAttacked&&!s.IsDown?(p(),I("div",jl,[t(Ce,{class:"ma-2",color:"green","text-color":"green",outlined:""},{default:o(()=>[C("Online")]),_:1})])):M("",!0),s.IsDown?(p(),I("div",Kl,[t(Ce,{class:"ma-2",color:"orange","text-color":"orange",outlined:""},{default:o(()=>[C("Down")]),_:1})])):M("",!0),s.IsAttacked?(p(),I("div",ql,[t(Ce,{class:"ma-2",color:"red","text-color":"red",outlined:""},{default:o(()=>[C("Attacked")]),_:1})])):M("",!0)]),_:2},1024)]),_:2},1032,["onClick"]))),128))])):M("",!0),l.gameBoxes===null||l.gameBoxes.length===0?(p(),O(ke,{key:1},{default:o(()=>[c("p",null,f(e.$t("gamebox.empty")),1)]),_:1})):M("",!0),t(nt,{width:"500",modelValue:l.showDetail,"onUpdate:modelValue":a[2]||(a[2]=s=>l.showDetail=s)},{default:o(()=>[t(ne,null,{default:o(()=>[t(xe,{class:"headline","primary-title":""},{default:o(()=>[C(f(l.gameBoxDetail.Title),1)]),_:1}),t(ae,null,{default:o(()=>[c("p",null,[c("b",null,f(l.gameBoxDetail.IP)+":"+f(l.gameBoxDetail.Port),1)]),t(Ol,{filled:"","auto-grow":"",rows:"4",shaped:"",disabled:!0,modelValue:l.gameBoxDetail.Description,"onUpdate:modelValue":a[0]||(a[0]=s=>l.gameBoxDetail.Description=s)},null,8,["modelValue"])]),_:1}),t(ye),t(Ie,null,{default:o(()=>[t(lt),t(_e,{color:"primary",text:"",onClick:a[1]||(a[1]=s=>l.showDetail=!1)},{default:o(()=>[C(f(e.$t("general.close")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])])}const vt=J(Hl,[["render",Wl]]),Xl={name:"Info",data(){return{info:null,timer:null,allGameBoxes:null,showGameBoxesVisible:!1}},mounted(){this.timer=setInterval(this.getInfo,5e3),this.getInfo(),this.getAllGameBoxes()},beforeDestroy(){clearInterval(this.timer)},methods:{getInfo(){this.utils.GET("/team/info").then(e=>{this.info=e})},getAllGameBoxes(){this.utils.GET("/team/gameboxes/all").then(e=>{this.allGameBoxes=e}).catch(()=>{this.allGameBoxes=null})}},components:{GameBox:vt}},Yl={class:"text-left"},Jl={class:"text-left"},Ql={class:"text-left"};function Zl(e,a,n,d,l,r){const i=pe("v-simple-table"),s=pe("v-list-item-content"),u=vt;return p(),I("div",null,[t(nt,{modelValue:l.showGameBoxesVisible,"onUpdate:modelValue":a[1]||(a[1]=m=>l.showGameBoxesVisible=m),width:"700"},{default:o(()=>[t(ne,null,{default:o(()=>[t(xe,{class:"headline"},{default:o(()=>[C(f(e.$t("gamebox.list")),1)]),_:1}),t(ae,null,{default:o(()=>[t(i,{dense:!0},{default:o(()=>[c("thead",null,[c("tr",null,[c("th",Yl,f(e.$t("gamebox.team")),1),c("th",Jl,f(e.$t("gamebox.challenge")),1),c("th",Ql,f(e.$t("gamebox.address")),1)])]),c("tbody",null,[(p(!0),I(K,null,$e(l.allGameBoxes,(m,y)=>(p(),I("tr",{key:y},[c("td",null,f(m.TeamName),1),c("td",null,f(m.ChallengeName),1),c("td",null,f(m.IP)+":"+f(m.Port),1)]))),128))])]),_:1})]),_:1}),t(ye),t(Ie,null,{default:o(()=>[t(lt),t(_e,{color:"primary",text:"",onClick:a[0]||(a[0]=m=>l.showGameBoxesVisible=!1)},{default:o(()=>[C(f(e.$t("general.close")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),l.info!==null?(p(),O(ne,{key:0},{default:o(()=>[t(ke,{"two-line":""},{default:o(()=>[t(s,null,{default:o(()=>[c("div",null,[l.info.Logo!==""?(p(),O(Jt,{key:0,class:"logo",src:`${e.utils.baseURL}/uploads/${l.info.Logo}`},null,8,["src"])):M("",!0),t(tt,{class:"headline"},{default:o(()=>[C(f(l.info.Name),1)]),_:1}),t(we,null,{default:o(()=>[C(" Token "+f(l.info.Token),1)]),_:1})])]),_:1})]),_:1}),t(ae,null,{default:o(()=>[t(u)]),_:1}),t(ye),t(Ie,null,{default:o(()=>[t(ke,null,{default:o(()=>[C(" #"+f(l.info.Rank)+" / "+f(e.utils.FormatFloat(l.info.Score))+" "+f(e.$t("general.score")),1)]),_:1}),l.allGameBoxes!==null?(p(),O(_e,{key:0,text:"",onClick:a[2]||(a[2]=m=>l.showGameBoxesVisible=!0)},{default:o(()=>[C("靶机列表")]),_:1})):M("",!0)]),_:1})]),_:1})):M("",!0)])}const mt=J(Xl,[["render",Zl],["__scopeId","data-v-e0a078b4"]]),ea={name:"Timer",data(){return{timer:null,requestTimer:null,time:null,minute:0,second:0}},mounted(){this.getTime(),this.requestTimer=setInterval(this.getTime,1e4),this.timer=setInterval(this.timeTick,1e3)},beforeDestroy(){clearInterval(this.requestTimer),clearInterval(this.timer)},methods:{getTime(){this.utils.GET("/time").then(e=>{this.time=e,this.timeTick()})},timeTick(){this.time.RoundRemainTime--,this.minute=Math.floor(this.time.RoundRemainTime/60),this.second=this.time.RoundRemainTime-this.minute*60,this.time.RoundRemainTime<=0&&(this.time.RoundRemainTime=this.time.Duration*60,this.time.NowRound++)}}},ta={key:0},la={class:"display-1 text--primary"},aa={key:1},na={class:"display-1 text--primary"},sa={key:2},oa={class:"display-1 text--primary"},ia={key:3},ua={class:"display-1 text--primary"};function ra(e,a,n,d,l,r){return l.time!==null?(p(),O(ae,{key:0,class:"text-center"},{default:o(()=>[l.time.Status==="on"?(p(),I("div",ta,[c("div",null,f(e.$t("timer.til_round_end",{round:l.time.NowRound})),1),c("p",la,f(l.minute)+" "+f(e.$t("general.minute"))+" "+f(l.second)+" "+f(e.$t("general.second")),1)])):l.time.Status==="wait"?(p(),I("div",aa,[c("p",na,f(e.$t("timer.not_begin")),1)])):l.time.Status==="pause"?(p(),I("div",sa,[c("p",oa,f(e.$t("timer.pause")),1)])):l.time.Status==="end"?(p(),I("div",ia,[c("p",ua,f(e.$t("timer.end")),1)])):M("",!0)]),_:1})):M("",!0)}const ht=J(ea,[["render",ra]]),ca={name:"Main",components:{Copyrights:ct,LiveLog:rt,SubmitFlag:ut,Info:mt,Timer:ht}},da=c("br",null,null,-1);function fa(e,a,n,d,l,r){const i=ht,s=mt,u=ct,m=rt,y=ut;return p(),O(ol,null,{default:o(()=>[t(ne,{class:"mx-auto","max-width":"600",color:"transparent",flat:""},{default:o(()=>[t(i)]),_:1}),t(at,null,{default:o(()=>[t(Te,{cols:"6",md:"4"},{default:o(()=>[t(s),t(u)]),_:1}),t(Te,{cols:"12",md:"8"},{default:o(()=>[t(ne,{class:"mx-auto"},{default:o(()=>[t(xe,null,{default:o(()=>[C(f(e.$t("log.live_log")),1)]),_:1}),t(ae,null,{default:o(()=>[t(m)]),_:1})]),_:1}),da,t(y)]),_:1})]),_:1})]),_:1})}const _a=J(ca,[["render",fa]]);export{_a as default};
